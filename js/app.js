!function(){"use strict";function e(e,t){for(var n=[],o=void 0,r=[],i=arguments.length,s=Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];for(n=n.concat(s);n.length;)Array.isArray(o=n.shift())?o.map(function(e){return n.push(e)}):null!=o&&"boolean"!=typeof o&&("number"==typeof o&&(o+=""),r.push(o));return"string"==typeof e?{type:e,props:t||{},children:r}:e(t||{},r)}function t(e,t){var n={};for(var o in e)n[o]=e[o];for(var r in t)n[r]=t[r];return n}function n(e,n,o,r){if("key"===n);else if("style"===n)for(var i in t(r,o=o||{}))e.style[i]=String(o[i])||"";else{try{0===o&&(o=String(o)),e[n]=o}catch(e){}"function"!=typeof o&&(o?"xlink-href"===n?e.setAttributeNS("http://www.w3.org/1999/xlink","href",o):e.setAttribute(n,o):e.removeAttribute(n))}}function o(e,t){return"string"==typeof e?document.createTextNode(e):function(e,t){var r=(t=t||"svg"===e.type)?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type);return Object.keys(e.props).forEach(function(t){return n(r,t,e.props[t])}),e.children.map(function(e){return r.appendChild(o(e,t))}),r}(e,t)}function r(e){if(e&&e.props)return e.props.key}function i(e,s,a,c,l,p){if(null==a)s=e.insertBefore(o(c,l),s);else if(null!=c.type&&c.type===a.type){!function(e,o,r){Object.keys(t(o,r)).forEach(function(t){var i=r[t],s="value"===t||"checked"===t?e[t]:o[t];i!==s&&n(e,t,i,s)})}(s,a.props,c.props),l=l||"svg"===c.type;for(var h=c.children.length,d=a.children.length,f={},y=[],m={},v=0;v<d;){var b=y[v]=s.childNodes[v],g=a.children[v],w=r(g);null!=w&&(f[w]=[b,g]),v++}for(var k=0,S=0;S<h;){var C=y[k],P=a.children[k],x=c.children[S],M=r(P);if(m[M])k++;else{var A=r(x),W=f[A]||[];null==A?(null==M&&(i(s,C,P,x,l),S++),k++):(M===A?i(s,W[0],W[1],x,l)&&k++:W[0]?s.insertBefore(W[0],C)&&i(s,W[0],W[1],x,l):i(s,C,null,x,l),m[A]=x,S++)}}for(;k<d;){null==r(a.children[k])&&u(s,y[k]),k++}Object.keys(f).forEach(function(e){var t=f[e],n=t[1];m[n.props.key]||u(s,t[0])})}else s&&c!==s.nodeValue&&("string"==typeof c&&"string"==typeof a?s.nodeValue=c:(s=e.insertBefore(o(c,l),p=s),u(e,p,a.data)));return s}function s(){function e(){return Math.floor(1e7*Math.random()+1e4*Math.random())}for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=["Misty","Scrappy","Sandy","Mr Tabor","Ransel","Tabby","Meow Meow","Kit Cat","Mouser","Hyacinth","Sleepy","Rowdy","Pouncer","Petunia","Racer","Tiger","Toby","Midnight","Pricess","Shadow","Jasper","Sneakers","Charley","Max","Rocky","CoCo","Purrfect","Oscar","Poof","Pepper","Archie","Mittens","Tux","Patches","Augusta","Calico","Lucky","Garfield","Simon","Babsy","Felix","Sassy","Silvester","Precious","Aster","Snickers","Wiskers","Jester","Buttler","Socks","Fluffy","Chester","Rusty","Dusty","Felix","Catkin","Cuddles","Buster","Boots","Flox","Magic","Willow","Butters","Juniper","Lacy","Higgins","Cosmo","Dexter","Cuddles","Bobtail","Gypsy","Fuzzy","Dufus","Buster","Leela","Manx","Jax","Grumpy","Ferris","Chance","Snoopy","Pixie","Bushy","Penny","Snowball","Muffin","Buffy","Hobbit","Chase","Emmett","Ribbon","Scamper","Wiggles","Flash","Doby","Posey","Merlin","Sparky","Lucy","Sleepy","Wally","Furball","Marmalade","Bert","Piper","Pookie","Puff","Cyrus","Hyde"],o=["Big","Small","Tiny","Cute","Skinny","Fat","Chubby","Scrawny","Scrappy","Mangy","Quiet","Angry","Excited","Peaceful","Anxious","Annoyed","Sleepy","Tired","Hungry","Worried","Young","Old","Sick","Clean","Dirty","Shabby","Dusty","Smelly","Dingy","Matted","Anxious","Calm","Scared","Frightened","Brave","Courageous","Timid","Lonely","Snugly","Aloof","Concerned","Smart"],r=["white","black","spotted","tabby","brown","striped","beige","gray","calico","tan","orange","yellow","tawny","gold","bronze","reddish","copper","silver","platinum","rusty","crimson","amber","goldenrod","apricot","brass","brandy","buff","sienna","sandy","coffee","chocolate","taupe","chestnut","hickory","marigold","moss","mustard","ochre","peach","pumpkin","rum","russet","tangerine","sunset"],i=[],s=0;s<t;s++)i.push({id:e(),name:""+n[a(n.length)],description:o[a(o.length)]+" "+r[a(r.length)]+" cat.",url:"https://loremflickr.com/320/240/cat?lock="+e()});return i}function a(e){return Math.round(1e3*Math.random())%e}var u=function(e,t){return e.removeChild(t)},c=function(e,t){Object.keys(t).forEach(function(n){t.hasOwnProperty(n)&&Object.defineProperty(e,n,{value:t[n],writable:!0,enumerable:!1,configurable:!0})})},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=(function(){function e(e){this.value=e}function t(t){function n(r,i){try{var s=t[r](i),a=s.value;a instanceof e?Promise.resolve(a.value).then(function(e){n("next",e)},function(e){n("throw",e)}):o(s.done?"return":"normal",s.value)}catch(e){o("throw",e)}}function o(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?n(r.key,r.arg):i=null}var r,i;this._invoke=function(e,t){return new Promise(function(o,s){var a={key:e,arg:t,resolve:o,reject:s,next:null};i?i=i.next=a:(r=i=a,n(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)},y=(new Date).getTime(),m=function(){function e(t){p(this,e),t||(t={}),this.selector=t.container||t.root||"body",t.render&&(this.render=t.render),t.state&&(this.state=t.state),this.oldNode=null,this.selector&&(this.container=document.querySelector(this.selector)),this.componentShouldUpdate=!0,this.mounted=!1,this.element,t.beforeCreateComponent&&(this.beforeCreateComponent=t.beforeCreateComponent),t.componentWasCreated&&(this.componentWasCreated=t.componentWasCreated),t.componentWillUpdate&&(this.componentWillUpdate=t.componentWillUpdate),t.componentDidUpdate&&(this.componentDidUpdate=t.componentDidUpdate),t.componentWillUnmount&&(this.componentWillUnmount=t.componentWillUnmount)}return h(e,[{key:"setState",value:function(e,t){if("function"==typeof e){var n=e.call(this,this.state);"function"!=typeof n&&n&&this.setState(n)}if(Array.isArray(this.state)){var o=this.state;t||0===t?"object"===l(o[t])?(c(o[t],e),this.state=o):(o[t]=e,this.state=o):this.state=o}else if("object"===l(this.state)){var r=this.state;c(r,e),this.state=r}else this.state=e}},{key:"update",value:function(e){function t(e){try{return JSON.stringify(this.oldNode)!==JSON.stringify(o(e))}catch(e){return!0}}if(this.render&&(this.componentShouldUpdate||!this.mounted)){var n=this.state;!0!==e&&e&&(n=e),this.container&&"string"==typeof this.container&&(this.selector=this.container,this.container=document.querySelector(this.container));var o=this.render,r=this.render(n),s=void 0;if(r&&r.props&&r.props.id)try{s=this.container.querySelector("#"+r.props.id)}catch(e){}if(s&&!this.mounted&&s.parentNode.removeChild(s),this.element=function(e,t,n,o){return i(o||document.body,n,e,t)}(this.oldNode,this.oldNode=this.render(n),this.element,this.container),!(this.mounted&&this.oldNode&&t(n)))return this.beforeCreateComponent&&this.beforeCreateComponent(this),this.componentWasCreated&&this.componentWasCreated(this),void(this.mounted=!0);this.componentWillUpdate&&this.componentWillUpdate(this),this.componentDidUpdate&&t(n)&&this.componentDidUpdate(this)}}},{key:"unmount",value:function(){this.componentWillUnmount&&this.componentWillUnmount(this),this.container.removeChild(this.element),this.container=void 0;for(var e in this)delete this[e];delete this.state,this.update=void 0,this.unmount=void 0}},{key:"state",set:function(e){var t=this;this[y]=e,f(function(){return t.update()})},get:function(){return this[y]}}]),e}();window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t=(this.document||this.ownerDocument).querySelectorAll(e),n=void 0,o=this;do{for(n=t.length;--n>=0&&t.item(n)!==o;);}while(n<0&&(o=o.parentElement));return o});var v=new m({container:"header",render:function(t){return e("nav",null,e("h1",null,"Composi Image Browser"))}}),b=function(t){function n(){return p(this,n),d(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,m),h(n,[{key:"render",value:function(t){var n=this;return e("div",{id:"app"},e("ul",{class:"list"},t.map(function(t){return e("li",{key:t.id},e("h2",null,t.name),e("div",{onclick:function(e){return n.showImage(e)},"data-url":t.url,class:"image-container",style:{backgroundImage:"url("+t.url+")"}}),e("div",{class:"description"},t.description))})),e("p",{class:"add-more"},e("button",{onclick:function(){return n.add10More()}},"Show 10 More")))}},{key:"add10More",value:function(){var e=s(10),t=this.state.concat(e);console.log(t),this.state=t}},{key:"showImage",value:function(e){var t=this;this.popup.style.display="flex",this.popupImage.style.backgroundImage="url("+e.target.dataset.url+")",setTimeout(function(){t.popupImage.classList.add("opened")},200)}},{key:"closePopup",value:function(e){var t=this;this.popupImage.classList.remove("opened"),setTimeout(function(){t.popup.style.display="none"},500)}},{key:"handleEvent",value:function(){this.closePopup()}},{key:"componentWasCreated",value:function(){this.popup=document.querySelector("#mask"),this.popup.addEventListener("click",this),this.popupImage=document.querySelector("#popup-image")}}]),n}();v.update();new b({container:"section",state:s(10)})}();
//# sourceMappingURL=app.js.map
