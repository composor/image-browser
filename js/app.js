!function(){"use strict";function e(e,t){for(var n=[],o=[],r=arguments.length,i=Array(r>2?r-2:0),u=2;u<r;u++)i[u-2]=arguments[u];for(var s=i.length,a=void 0;s-- >0;)n.push(i[s]);for(t&&t.key&&(a=t.key,delete t.key);n.length;){var l=n.pop();if(l&&l.pop)for(s=l.length;s--;)n.push(l[s]);else null!=l&&!0!==l&&!1!==l&&o.push(l)}return"function"==typeof e?e(t||{},o):{type:e,props:t||{},children:o,key:a}}var t=function(e){return e?e.key:null};function n(e,t){var n={};for(var o in e)n[o]=e[o];for(var r in t)n[r]=t[r];return n}function o(e,t,o,r,i){var u,s,a,l;"key"!==t&&"onComponentDidMount"!==t&&"onComponentDidUpdate"!==t&&"onComponentWillUnmount"!==t&&("style"===t&&"string"!=typeof o?function(e,t,o,r){for(var i in n(r,o)){var u=null==o||null==o[i]?"":o[i];"-"===i[0]?e[t].setProperty(i,u):e[t][i]=u}}(e,t,o,r):(t=t.toLowerCase(),"classname"===(l=t)&&(l="class"),a=o,"dangerouslysetinnerhtml"===(t=l)&&(e.innerHTML=a),t in e&&"list"!==t&&!i?e[t]="no"==o?"":o:null!=o&&"null"!==o&&"false"!==o&&"no"!==o&&"off"!==o&&("xlink-href"===t?(s=o,(u=e).setAttributeNS("http://www.w3.org/1999/xlink","href",s),u.setAttribute("href",s)):("true"===o&&(o=""),"dangerouslysetinnerhtml"!==t&&e.setAttribute(t,o))),null!=o&&"null"!==o&&"undefined"!==o&&"false"!==o&&"no"!==o&&"off"!==o||e.removeAttribute(t)))}var r=function(e,t,n){e.removeChild(function e(t,n){if(n.props)for(var o=0;o<n.children.length;o++)e(t.childNodes[o],n.children[o]);return t}(t,n)),n&&n.props&&n.props.onComponentDidUnmount&&n.props.onComponentDidUnmount.call(n.props.onComponentDidUnmount,e)};function i(e,u,s,a,l){if(a!==s){if(null==s||s.type!==a.type){var c=function e(t,n){var r=void 0;"number"==typeof t&&(t=t.toString()),r="string"==typeof t?document.createTextNode(t):(n=n||"svg"===t.type)?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type);var i=t.props;if(i){for(var u=0;u<t.children.length;u++)r.appendChild(e(t.children[u],n));for(var s in i)o(r,s,i[s],null,n)}return r}(a,l);e&&(e.insertBefore(c,u),null!=s&&r(e,u,s)),u=c}else if(null==s.type)u.nodeValue=a;else{!function(e,t,r,i){for(var u in n(t,r))r[u]!==("value"===u||"checked"===u?e[u]:t[u])&&o(e,u,r[u],t[u],i);e.mounted&&r&&r.onComponentDidUpdate&&r.onComponentDidUpdate.call(r.onComponentDidUpdate,t,r,e)}(u,s.props,a.props,l=l||"svg"===a.type);for(var p={},d={},h=[],f=s.children,m=a.children,y=0;y<f.length;y++){h[y]=u.childNodes[y];var v=t(f[y]);null!=v&&(p[v]=[h[y],f[y]])}for(var g=0,b=0;b<m.length;){var k=t(f[g]),S=t(m[b]);if(d[k])g++;else if(null==S||S!==t(f[g+1]))if(null==S)null==k&&(i(u,h[g],f[g],m[b],l),b++),g++;else{var w=p[S]||[];k===S?(i(u,w[0],w[1],m[b],l),g++):w[0]?i(u,u.insertBefore(w[0],h[g]),w[1],m[b],l):i(u,h[g],null,m[b],l),d[S]=m[b],b++}else null==k&&r(u,h[g],f[g]),g++}for(;g<f.length;)null==t(f[g])&&r(u,h[g],f[g]),g++;for(var C in p)d[C]||r(u,p[C][0],p[C][1])}return u}}function u(e,t){return t?i(t.parentNode,t,t&&t.node,e):t=i(null,null,null,e),t.node=e,t}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=(function(){function e(e){this.value=e}function t(t){var n,o;function r(n,o){try{var u=t[n](o),s=u.value;s instanceof e?Promise.resolve(s.value).then(function(e){r("next",e)},function(e){r("throw",e)}):i(u.done?"return":"normal",u.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?r(n.key,n.arg):o=null}this._invoke=function(e,t){return new Promise(function(i,u){var s={key:e,arg:t,resolve:i,reject:u,next:null};o?o=o.next=s:(n=o=s,r(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},p=function(e,t,n){if((t="string"==typeof t&&document.querySelector(t))||(t=document.body),Array.isArray(e))throw new function e(){a(this,e),this.message="Cannot insert Fragment tag directly into DOM.",this.toString=function(){return this.message}};var o=u(e);return e.props&&e.props.onComponentDidMount&&e.props.onComponentDidMount.call(e.props.onComponentDidMount,o),o.mounted=!0,n?("string"==typeof n&&(n=document.querySelector(n)),n.nextElementSibling?(n.parentNode.insertBefore(o,n.nextElementSibling),n.parentNode.removeChild(n),o):(n.parentNode.appendChild(o),n.parentNode.removeChild(n),o)):t.appendChild(o)},d=window&&window.requestAnimationFrame||window&&window.msRequestAnimationFrame||function(e){return setTimeout(e,16)};function h(e){return!Array.isArray(e)&&"object"===(void 0===e?"undefined":s(e))}var f=(new Date).getTime(),m=function(){function e(t){a(this,e),t||(t={}),this.props=t,this.selector=t.container||"body",t.render&&(this.render=t.render),t.state&&(this.state=t.state),this.selector&&(this.container=document.querySelector(this.selector)),this.componentShouldUpdate=!0,this.mounted=!1,this.element,t.componentWillMount&&(this.componentWillMount=t.componentWillMount),t.componentDidMount&&(this.componentDidMount=t.componentDidMount),t.componentWillUpdate&&(this.componentWillUpdate=t.componentWillUpdate),t.componentDidUpdate&&(this.componentDidUpdate=t.componentDidUpdate),t.componentWillUnmount&&(this.componentWillUnmount=t.componentWillUnmount)}return l(e,[{key:"componentWillMount",value:function(e){return e}},{key:"componentDidMount",value:function(e){return e}},{key:"componentWillUpdate",value:function(e){return e}},{key:"componentDidUpdate",value:function(e){return e}},{key:"componentWillUnmount",value:function(e){return e}},{key:"render",value:function(e){return e}},{key:"setState",value:function(e){if("function"==typeof e){var t=e.call(this,this.state);t&&(this.state=t)}else if(h(this.state)&&h(e)){var o=this.state;this.state=n(o,e)}else this.state=e}},{key:"update",value:function(e){if(this.render&&(this.componentShouldUpdate||!this.mounted)){var t=this.state;!0!==e&&e&&(t=e),this.container&&"string"==typeof this.container&&(this.selector=this.container,this.container=document.querySelector(this.container));var n=this.render(t),o=void 0;n&&n.props&&n.props.id&&this.container&&(o=this.container&&this.container.querySelector("#"+n.props.id)),o&&!this.mounted&&o.parentNode.removeChild(o);var r=this.element&&this.element.node;if(i=r,s=t,!(a=this)||JSON.stringify(i)!==JSON.stringify(a.render(s))){var i,s,a;if(this.element=u(this.render(t),this.element),!this.mounted)return this.componentWillMount&&this.componentWillMount(this),this.container&&1===this.container.nodeType||console.error("The container for a class component is not a valid DOM node. Check the selector provided for the class to make sure it is a valid CSS selector and that the container exists in the DOM. You might be targeting a nonexistent node."),this.container.appendChild(this.element),this.mounted=!0,void(this.componentDidMount&&this.componentDidMount(this));this.componentWillUpdate&&this.componentWillUpdate(this),this.componentDidUpdate&&this.componentDidUpdate(this)}}}},{key:"unmount",value:function(){var e=this;if(this.element){for(var t in this.componentWillUnmount&&this.componentWillUnmount(this),["change","click","dblclick","input","keydown","keypress","keyup","mousedown","mouseleave","mouseout","mouseover","mouseup","pointercancel","pointerdown","pointermove","pointerup","select","submit","touchcancel","touchend","touchmove","touchstart"].map(function(t){e.element.removeEventListener(t,e)}),this.container.removeChild(this.element),this.container=void 0,this)delete this[t];delete this.state,this.update=void 0,this.unmount=void 0}}},{key:"state",get:function(){return this[f]},set:function(e){var t=this;this[f]=e,d(function(){return t.update()})}}]),e}(),y=new m({container:"header",render:function(t){return e("nav",null,e("h1",null,"Composi Image Browser"))}}),v=function(t){function n(){return a(this,n),c(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,m),l(n,[{key:"render",value:function(t){var n=this;return e("div",{id:"app"},e("ul",{class:"list"},t.map(function(t){return e("li",{key:t.id},e("h2",null,t.name),e("div",{onclick:function(e){return n.showImage(e)},"data-url":t.url,class:"image-container",style:{backgroundImage:"url("+t.url+")"}}),e("div",{class:"description"},t.description))})),e("p",{class:"add-more"},e("button",{onclick:function(){return n.add10More()}},"Show 10 More")))}},{key:"add10More",value:function(){var e=g(10),t=this.state.concat(e);console.log(t),this.state=t}},{key:"showImage",value:function(e){var t=this;this.popup.style.display="flex",this.popupImage.style.backgroundImage="url("+e.target.dataset.url+")",setTimeout(function(){t.popupImage.classList.add("opened")},200)}},{key:"closePopup",value:function(e){var t=this;this.popupImage.classList.remove("opened"),setTimeout(function(){t.popup.style.display="none"},500)}},{key:"handleEvent",value:function(){this.closePopup()}},{key:"componentDidMount",value:function(){p(e(function(){return e("div",{id:"mask"},e("div",{id:"popup-image"}))},null),"body"),this.popup=document.querySelector("#mask"),this.popup.addEventListener("click",this),this.popupImage=document.querySelector("#popup-image")}}]),n}();function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;function t(e){return Math.round(1e3*Math.random())%e}function n(){return Math.floor(1e7*Math.random()+1e4*Math.random())}for(var o=["Misty","Scrappy","Sandy","Mr Tabor","Ransel","Tabby","Meow Meow","Kit Cat","Mouser","Hyacinth","Sleepy","Rowdy","Pouncer","Petunia","Racer","Tiger","Toby","Midnight","Princess","Shadow","Jasper","Sneakers","Charley","Max","Rocky","CoCo","Purrfect","Oscar","Poof","Pepper","Archie","Mittens","Tux","Patches","Augusta","Calico","Lucky","Garfield","Simon","Babsy","Felix","Sassy","Silvester","Precious","Aster","Snickers","Wiskers","Jester","Buttler","Socks","Fluffy","Chester","Rusty","Dusty","Felix","Catkin","Cuddles","Buster","Boots","Flox","Magic","Willow","Butters","Juniper","Lacy","Higgins","Cosmo","Dexter","Cuddles","Bobtail","Gypsy","Fuzzy","Dufus","Buster","Leela","Manx","Jax","Grumpy","Ferris","Chance","Snoopy","Pixie","Bushy","Penny","Snowball","Muffin","Buffy","Hobbit","Chase","Emmett","Ribbon","Scamper","Wiggles","Flash","Doby","Posey","Merlin","Sparky","Lucy","Sleepy","Wally","Furball","Marmalade","Bert","Piper","Pookie","Puff","Cyrus","Hyde"],r=["Big","Small","Tiny","Cute","Skinny","Fat","Chubby","Scrawny","Scrappy","Mangy","Quiet","Angry","Excited","Jumpy","Peaceful","Anxious","Annoyed","Sleepy","Tired","Hungry","Worried","Young","Old","Sick","Clean","Dirty","Shabby","Dusty","Smelly","Dingy","Matted","Anxious","Calm","Scared","Frightened","Brave","Courageous","Timid","Lonely","Snugly","Aloof","Concerned","Smart"],i=["white","black","spotted","tabby","brown","striped","beige","gray","calico","tan","orange","yellow","tawny","gold","bronze","reddish","copper","silver","platinum","rusty","crimson","amber","goldenrod","apricot","brass","brandy","buff","sienna","sandy","coffee","chocolate","taupe","chestnut","hickory","marigold","moss","mustard","ochre","peach","pumpkin","rum","russet","tangerine","sunset"],u=[],s=0;s<e;s++)u.push({id:n(),name:""+o[t(o.length)],description:r[t(r.length)]+" "+i[t(i.length)]+" cat.",url:"https://loremflickr.com/320/240/cat?lock="+n()});return u}y.update();new v({container:"section",state:g(10)})}();
//# sourceMappingURL=app.js.map
