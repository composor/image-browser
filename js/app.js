!function(){"use strict";function e(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];for(var i=void 0,s=[];o.length;)Array.isArray(i=o.shift())?i.map(function(e){return o.push(e)}):null!=i&&"boolean"!=typeof i&&("number"==typeof i&&(i+=""),s.push(i));return"string"==typeof e?{type:e,props:t||{},children:s}:e(t||{},s)}function t(e){if(e&&e.props)return e.props.key}function n(e,t){var n={};for(var o in e)n[o]=e[o];for(var r in t)n[r]=t[r];return n}function o(e,t,o,r){if("key"===t);else if("style"===t&&"string"!=typeof o)for(var i in n(r,o=o||{}))e.style[i]=o[i]+""||"";else{if(0===o&&(o+=""),"className"===t&&(t="class"),"o"==t[0]&&"n"==t[1]&&(t=t.toLowerCase()),"dangerouslySetInnerHTML"===t)return void(e.innerHTML=o);"http://www.w3.org/2000/svg"!==e.namespaceURI&&(e[t]=o),"function"!=typeof o&&(o?"xlink-href"===t?(e.setAttributeNS("http://www.w3.org/1999/xlink","href",o),e.setAttribute("href",o)):e.setAttribute(t,o):e.removeAttribute(t))}}function r(e,t){return"string"==typeof e?document.createTextNode(e):(n=e,s=void 0,s=(i=(i=t)||"svg"===n.type)?document.createElementNS("http://www.w3.org/2000/svg",n.type):document.createElement(n.type),Object.keys(n.props).forEach(function(e){return o(s,e,n.props[e])}),n.children.map(function(e){return s.appendChild(r(e,i))}),s);var n,i,s}var i=function(e,t){return e.removeChild(t)};function s(e,s,a,u){return function e(s,a,u,l,c,p){if(null==u)a=s.insertBefore(r(l,c),a);else if(null!=l.type&&l.type===u.type){N=a,T=u.props,B=l.props,Object.keys(n(T,B)).forEach(function(e){var t=B[e],n="value"===e||"checked"===e?N[e]:T[e];t!==n&&o(N,e,t,n)}),c=c||"svg"===l.type;for(var d=l.children.length,h=u.children.length,f={},y=[],m={},v=0;v<h;){var b=y[v]=a.childNodes[v],g=u.children[v],k=t(g);null!=k&&(f[k]=[b,g]),v++}for(var w=0,S=0;S<d;){var C=y[w],M=u.children[w],W=l.children[S],x=t(M);if(m[x])w++;else{var P=t(W),A=f[P]||[];null==P?(null==x&&(e(a,C,M,W,c),S++),w++):(x===P?e(a,A[0],A[1],W,c)&&w++:A[0]?a.insertBefore(A[0],C)&&e(a,A[0],A[1],W,c):e(a,C,null,W,c),m[P]=W,S++)}}for(;w<h;){var D=u.children[w],U=t(D);null==U&&i(a,y[w]),w++}Object.keys(f).forEach(function(e){var t=f[e],n=t[1];m[n.props.key]||i(a,t[0])})}else a&&l!==a.nodeValue&&("string"==typeof l&&"string"==typeof u?a.nodeValue=l:(a=s.insertBefore(r(l,c),p=a),i(s,p,u.data)));var N,T,B;return a}(u||document.body,a,e,s)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=(function(){function e(e){this.value=e}function t(t){var n,o;function r(n,o){try{var s=t[n](o),a=s.value;a instanceof e?Promise.resolve(a.value).then(function(e){r("next",e)},function(e){r("throw",e)}):i(s.done?"return":"normal",s.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?r(n.key,n.arg):o=null}this._invoke=function(e,t){return new Promise(function(i,s){var a={key:e,arg:t,resolve:i,reject:s,next:null};o?o=o.next=a:(n=o=a,r(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},p=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)},d=(new Date).getTime(),h=function(){function e(t){u(this,e),t||(t={}),this.selector=t.container||t.root||"body",t.render&&(this.render=t.render),t.state&&(this.state=t.state),this.oldNode=null,this.selector&&(this.container=document.querySelector(this.selector)),this.componentShouldUpdate=!0,this.mounted=!1,this.element,(t.componentWillMount||t.beforeCreateComponent)&&(this.componentWillMount=t.componentWillMount||t.beforeCreateComponent),this.beforeCreateComponent&&(this.componentWillMount=this.beforeCreateComponent),(t.componentDidMount||t.componentWasCreated)&&(this.componentDidMount=t.componentDidMount||t.componentWasCreated),this.componentWasCreated&&(this.componentDidMount=this.componentWasCreated),t.componentWillUpdate&&(this.componentWillUpdate=t.componentWillUpdate),t.componentDidUpdate&&(this.componentDidUpdate=t.componentDidUpdate),t.componentWillUnmount&&(this.componentWillUnmount=t.componentWillUnmount)}return l(e,[{key:"setState",value:function(e,t){if("function"==typeof e){var o=e.call(this,this.state);"function"!=typeof o&&o&&this.setState(o)}else if(Array.isArray(this.state)){var r=this.state;t||0===t?"object"===a(r[t])?this.state=n(r[t],e):(r[t]=e,this.state=r):this.state=r}else if("object"===a(this.state)){var i=this.state;this.state=n(i,e)}else this.state=e}},{key:"update",value:function(e){if(this.render&&(this.componentShouldUpdate||!this.mounted)){var t=this.state;!0!==e&&e&&(t=e),this.container&&"string"==typeof this.container&&(this.selector=this.container,this.container=document.querySelector(this.container));var n=this.render,o=this.render(t),r=void 0;if(o&&o.props&&o.props.id&&(r=this.container&&this.container.querySelector("#"+o.props.id)),r&&!this.mounted&&r.parentNode.removeChild(r),this.element=s(this.oldNode,this.oldNode=this.render(t),this.element,this.container),!(this.mounted&&this.oldNode&&i(t)))return this.componentWillMount&&this.componentWillMount(this),this.componentDidMount&&this.componentDidMount(this),void(this.mounted=!0);this.componentWillUpdate&&this.componentWillUpdate(this),this.componentDidUpdate&&i(t)&&this.componentDidUpdate(this)}function i(e){return!this||JSON.stringify(this.oldNode)!==JSON.stringify(n(e))}}},{key:"unmount",value:function(){var e=this;if(this.element){for(var t in this.componentWillUnmount&&this.componentWillUnmount(this),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mouseleave","select","input","change","keydown","keypress","keyup","submit"].map(function(t){e.element.removeEventListener(t,e)}),this.container.removeChild(this.element),this.container=void 0,this)delete this[t];delete this.state,this.update=void 0,this.unmount=void 0}}},{key:"state",get:function(){return this[d]},set:function(e){var t=this;this[d]=e,p(function(){return t.update()})}}]),e}(),f={container:void 0,element:void 0,oldNode:void 0},y=new h({container:"header",render:function(t){return e("nav",null,e("h1",null,"Composi Image Browser"))}}),m=function(t){function n(){return u(this,n),c(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,h),l(n,[{key:"render",value:function(t){var n=this;return e("div",{id:"app"},e("ul",{class:"list"},t.map(function(t){return e("li",{key:t.id},e("h2",null,t.name),e("div",{onclick:function(e){return n.showImage(e)},"data-url":t.url,class:"image-container",style:{backgroundImage:"url("+t.url+")"}}),e("div",{class:"description"},t.description))})),e("p",{class:"add-more"},e("button",{onclick:function(){return n.add10More()}},"Show 10 More")))}},{key:"add10More",value:function(){var e=v(10),t=this.state.concat(e);console.log(t),this.state=t}},{key:"showImage",value:function(e){var t=this;this.popup.style.display="flex",this.popupImage.style.backgroundImage="url("+e.target.dataset.url+")",setTimeout(function(){t.popupImage.classList.add("opened")},200)}},{key:"closePopup",value:function(e){var t=this;this.popupImage.classList.remove("opened"),setTimeout(function(){t.popup.style.display="none"},500)}},{key:"handleEvent",value:function(){this.closePopup()}},{key:"componentWasCreated",value:function(){var t,n;t=e(function(){return e("div",{id:"mask"},e("div",{id:"popup-image"}))},null),"string"==typeof(n="body")&&(n=document.querySelector(n)),f.container!==n&&(f.container=n,f.element=void 0,f.oldNode=void 0),f.element=s(f.oldNode,f.oldNode=t,f.element,n),this.popup=document.querySelector("#mask"),this.popup.addEventListener("click",this),this.popupImage=document.querySelector("#popup-image")}}]),n}();function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;function t(e){return Math.round(1e3*Math.random())%e}function n(){return Math.floor(1e7*Math.random()+1e4*Math.random())}for(var o=["Misty","Scrappy","Sandy","Mr Tabor","Ransel","Tabby","Meow Meow","Kit Cat","Mouser","Hyacinth","Sleepy","Rowdy","Pouncer","Petunia","Racer","Tiger","Toby","Midnight","Princess","Shadow","Jasper","Sneakers","Charley","Max","Rocky","CoCo","Purrfect","Oscar","Poof","Pepper","Archie","Mittens","Tux","Patches","Augusta","Calico","Lucky","Garfield","Simon","Babsy","Felix","Sassy","Silvester","Precious","Aster","Snickers","Wiskers","Jester","Buttler","Socks","Fluffy","Chester","Rusty","Dusty","Felix","Catkin","Cuddles","Buster","Boots","Flox","Magic","Willow","Butters","Juniper","Lacy","Higgins","Cosmo","Dexter","Cuddles","Bobtail","Gypsy","Fuzzy","Dufus","Buster","Leela","Manx","Jax","Grumpy","Ferris","Chance","Snoopy","Pixie","Bushy","Penny","Snowball","Muffin","Buffy","Hobbit","Chase","Emmett","Ribbon","Scamper","Wiggles","Flash","Doby","Posey","Merlin","Sparky","Lucy","Sleepy","Wally","Furball","Marmalade","Bert","Piper","Pookie","Puff","Cyrus","Hyde"],r=["Big","Small","Tiny","Cute","Skinny","Fat","Chubby","Scrawny","Scrappy","Mangy","Quiet","Angry","Excited","Jumpy","Peaceful","Anxious","Annoyed","Sleepy","Tired","Hungry","Worried","Young","Old","Sick","Clean","Dirty","Shabby","Dusty","Smelly","Dingy","Matted","Anxious","Calm","Scared","Frightened","Brave","Courageous","Timid","Lonely","Snugly","Aloof","Concerned","Smart"],i=["white","black","spotted","tabby","brown","striped","beige","gray","calico","tan","orange","yellow","tawny","gold","bronze","reddish","copper","silver","platinum","rusty","crimson","amber","goldenrod","apricot","brass","brandy","buff","sienna","sandy","coffee","chocolate","taupe","chestnut","hickory","marigold","moss","mustard","ochre","peach","pumpkin","rum","russet","tangerine","sunset"],s=[],a=0;a<e;a++)s.push({id:n(),name:""+o[t(o.length)],description:r[t(r.length)]+" "+i[t(i.length)]+" cat.",url:"https://loremflickr.com/320/240/cat?lock="+n()});return s}y.update();new m({container:"section",state:v(10)})}();
//# sourceMappingURL=app.js.map
